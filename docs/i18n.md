# 安装引入

```
npm install vue-i18n   or    yarn add vue-i18n
```

在 src 下新建 i18n 文件夹, 包含 index.ts , _lang / en.ts_ , _lang / zh.ts_(做中英文切换)

```
// lang / zh.ts
export default {
  login: {
    login: '登录',
    userName: '用户名',
    password: '密码',
  },
};
```

```
// lang / en.ts
export default {
  login: {
    login: 'login',
    userName: 'userName',
    password: 'password',
  },
};
```

```
// index.ts
import { createI18n } from 'vue-i18n';
import zh from './lang/zh';
import en from './lang/en';

const messages = {
  en,
  zh,
};
const language = (navigator.language || 'en').toLocaleLowerCase(); // 这是获取浏览器的语言
const i18n = createI18n({
  locale: localStorage.getItem('language') || language.split('-')[0] || 'en', // 首先从缓存里拿，没有的话就用浏览器语言，
  fallbackLocale: 'en', // 设置备用语言
  messages,
});

export default i18n;
```

最后在 main.js 引入就好了

```
import { createApp } from 'vue'
import i18n from './locals'

const app = createApp(App)
app.use(i18n)

app.mount('#app')


```

至此插件就算配置好了，接下来使用的话基本上就两种场景，一是在 template 里面, 一种是在 setup 里面

# 使用

#### 1. 在 template 中使用

要用到一个 $t() 的方法，或者使用 v-t 也行

```
 <div>
   {{ $t('login.userName') }}
 </div>
 <div v-t="'login.password'"></div>


```

关于`$t()`还有很多用法，可以动态传参等，具体还是去[官网](https://links.jianshu.com/go?to=https%3A%2F%2Fvue-i18n.intlify.dev%2Fguide%2Fadvanced%2Fcomposition.html)看看

#### 2. 在 setup 中使用

```
<script setup lang="ts">
import { useI18n } from 'vue-i18n'

const { t } = useI18n()

console.log(t('login.useName'))
</script>


```

还有其他的就不展开了

#### 3. 切换语言

vue-i18n 提供了一个全局变量 locale，直接修改即可

```
<template>
    <div>
        <div  @click="changeLang('en')">English</div>
        <div  @click="changeLang('zh')">中文</div>
    </div>
</template>
<script setup lang="ts">
import { useI18n } from 'vue-i18n'
const { locale } = useI18n()

const changeLang = (lang: string) => {
  locale.value = lang
  localStorage.setItem('language', lang)
}
</script>
```

> over
